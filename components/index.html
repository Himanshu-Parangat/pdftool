<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PDF-Fairy</title>
    <link rel="stylesheet" href="../static/styles/main.css" />
		<script src="../static/lib/Sortable.js"></script>
		<script>
	<script src="../static/utils/main.js"></script>
				const input = document.getElementById("pdfs");
				const list = document.getElementById("fileList");
				list.innerHTML = "";
				for (let file of input.files) {
					let li = document.createElement("li");
					li.textContent = file.name;
					list.appendChild(li);
				}
			}
		</script>
  </head>
	<body>
		<div class="bg-white w-screen h-screen flex flex-col">
			<nav class="flex  justify-between">
				<div></div>
				<div class="p-4">
					Pdf v1
				</div>
				<div>
					<select id="theme-dropdown" class="bg-primary text-primary">
						<option value="theme-light">light</option>
						<option value="theme-dark">dark</option>
					</select>
				</div>
			</nav>

			<!-- main body -->
			<div class="flex flex-1 ">

				<!-- left pannel -->
				<div class="flex flex-col space-y-5 ml-8 mr-8">
					<div class="border-gray-500 border-4 rounded-2xl overflow-hidden" >
						<div class="w-110">
							<img src="../static/assets/previews/P-summary-1.png" 
								alt="pdf page preview" 
								class="object-contain w-full h-full"
							>
						</div>

						<div class="p-4 border-t border-gray-200 flex flex-row space-x-2">
							<div>
								<img src="../static/icons/documents.svg" alt="document icons" class="w-10 h-10 text-amber-300">
							</div>
							<div>
								<h1 class="text-lg font-semibold text-gray-800">Document Title</h1>
								<p class="text-sm text-gray-500">Page <span>1 / 12 </span></p>
							</div>
						</div>
					</div>

					<div class="border-gray-500 mt-auto border-t-4 border-l-4 border-r-4 rounded-tl-2xl rounded-tr-2xl">
						<div class="p-4">
							<ul class="text-sm text-gray-700 space-y-2">
								<li><span class="font-medium">File Name:</span> document_draft.pdf</li>
								<li><span class="font-medium">Status:</span> In Review</li>
								<li><span class="font-medium">Last Edited:</span> Sep 15, 2025</li>
								<li><span class="font-medium">Assigned To:</span> John Doe</li>
							</ul>
						</div>
					</div>

				</div>

				<!-- right pannel -->
				<div class="bg-gray-200 h-full flex-1 border-l-4 border-t-4 pl-8 pt-8 border-gray-500 rounded-tl-2xl">
					<div class="flex flex-row h-full space-x-3">
						<div id="grid" class="flex flex-row   gap-4">

							<!-- column setup -->
						<div class="p-6 bg-white w-100 rounded-2xl border-1 border-gray-200 shadow text-center cursor-move ">
							<div class="flex flex-row justify-between">
								<!-- handle  -->
									<div class="flex flex-col gap-1 pr-2">
										<div class="flex gap-1">
											<div class="w-1.5 h-1.5 bg-gray-400 rounded"></div>
											<div class="w-1.5 h-1.5 bg-gray-400 rounded"></div>
											<div class="w-1.5 h-1.5 bg-gray-400 rounded"></div>
										</div>
										<div class="flex gap-1">
											<div class="w-1.5 h-1.5 bg-gray-400 rounded"></div>
											<div class="w-1.5 h-1.5 bg-gray-400 rounded"></div>
											<div class="w-1.5 h-1.5 bg-gray-400 rounded"></div>
										</div>
									</div>
								
								<!-- downlod button -->
									<div class="p-4 border-t border-gray-200 flex flex-row space-x-2">
										<div>
											<h1 class="text-lg font-semibold text-gray-800">Document Title</h1>
											<p class="text-sm text-gray-500">Page <span>1 / 12 </span></p>
										</div>
										<div>
											<img src="../static/icons/download.svg" alt="document icons" class="w-10 h-10 text-amber-300">
										</div>
									</div>

								<div>	</div>
							</div>

							<div class="border-t border-gray-300 w-full h-1"> </div>

							<div class="flex flex-col justify-center space-y-3 ">

								<!-- slots appers here -->
								<div class="w-80 border-4 rounded-2xl overflow-hidden border-gray-600">
									<img src="../static/assets/previews/P-summary-1.png" 
										alt="pdf page preview" 
										class="object-contain w-full h-full"
									>
								</div>


								<div class="w-80 border-4 rounded-2xl overflow-hidden border-gray-600">
									<img src="../static/assets/previews/P-summary-1.png" 
										alt="pdf page preview" 
										class="object-contain w-full h-full"
									>
								</div>


								<div class="w-80 border-4 rounded-2xl overflow-hidden border-gray-600">
									<img src="../static/assets/previews/P-summary-1.png" 
										alt="pdf page preview" 
										class="object-contain w-full h-full"
									>
								</div>


							</div>
						</div>



						<div class="p-6 bg-white w-100 rounded-2xl border-1 border-gray-200 shadow text-center cursor-move ">
							<div class="flex flex-row justify-between">
								<!-- handle  -->
									<div class="flex flex-col gap-1 pr-2">
										<div class="flex gap-1">
											<div class="w-1.5 h-1.5 bg-gray-400 rounded"></div>
											<div class="w-1.5 h-1.5 bg-gray-400 rounded"></div>
											<div class="w-1.5 h-1.5 bg-gray-400 rounded"></div>
										</div>
										<div class="flex gap-1">
											<div class="w-1.5 h-1.5 bg-gray-400 rounded"></div>
											<div class="w-1.5 h-1.5 bg-gray-400 rounded"></div>
											<div class="w-1.5 h-1.5 bg-gray-400 rounded"></div>
										</div>
									</div>
								
								<!-- downlod button -->
									<div class="p-4 border-t border-gray-200 flex flex-row space-x-2">
										<div>
											<h1 class="text-lg font-semibold text-gray-800">Document Title</h1>
											<p class="text-sm text-gray-500">Page <span>1 / 12 </span></p>
										</div>
										<div>
											<img src="../static/icons/download.svg" alt="document icons" class="w-10 h-10 text-amber-300">
										</div>
									</div>

								<div>	</div>
							</div>

							<div class="border-t border-gray-300 w-full h-1"> </div>

							<div class="flex flex-col justify-center space-y-3 ">

								<!-- slots appers here -->
								<div class="w-80 border-4 rounded-2xl overflow-hidden border-gray-600">
									<img src="../static/assets/previews/P-summary-1.png" 
										alt="pdf page preview" 
										class="object-contain w-full h-full"
									>
								</div>


								<div class="w-80 border-4 rounded-2xl overflow-hidden border-gray-600">
									<img src="../static/assets/previews/P-summary-1.png" 
										alt="pdf page preview" 
										class="object-contain w-full h-full"
									>
								</div>


								<div class="w-80 border-4 rounded-2xl overflow-hidden border-gray-600">
									<img src="../static/assets/previews/P-summary-1.png" 
										alt="pdf page preview" 
										class="object-contain w-full h-full"
									>
								</div>


							</div>
						</div>


						<div class="p-6 bg-white w-100 rounded-2xl border-1 border-gray-200 shadow text-center cursor-move ">
							<div class="flex flex-row justify-between">
								<!-- handle  -->
									<div class="flex flex-col gap-1 pr-2">
										<div class="flex gap-1">
											<div class="w-1.5 h-1.5 bg-gray-400 rounded"></div>
											<div class="w-1.5 h-1.5 bg-gray-400 rounded"></div>
											<div class="w-1.5 h-1.5 bg-gray-400 rounded"></div>
										</div>
										<div class="flex gap-1">
											<div class="w-1.5 h-1.5 bg-gray-400 rounded"></div>
											<div class="w-1.5 h-1.5 bg-gray-400 rounded"></div>
											<div class="w-1.5 h-1.5 bg-gray-400 rounded"></div>
										</div>
									</div>
								
								<!-- downlod button -->
									<div class="p-4 border-t border-gray-200 flex flex-row space-x-2">
										<div>
											<h1 class="text-lg font-semibold text-gray-800">Document Title</h1>
											<p class="text-sm text-gray-500">Page <span>1 / 12 </span></p>
										</div>
										<div>
											<img src="../static/icons/download.svg" alt="document icons" class="w-10 h-10 text-amber-300">
										</div>
									</div>

								<div>	</div>
							</div>

							<div class="border-t border-gray-300 w-full h-1"> </div>

							<div class="flex flex-col justify-center space-y-3 ">

								<!-- slots appers here -->
								<div class="w-80 border-4 rounded-2xl overflow-hidden border-gray-600">
									<img src="../static/assets/previews/P-summary-1.png" 
										alt="pdf page preview" 
										class="object-contain w-full h-full"
									>
								</div>


								<div class="w-80 border-4 rounded-2xl overflow-hidden border-gray-600">
									<img src="../static/assets/previews/P-summary-1.png" 
										alt="pdf page preview" 
										class="object-contain w-full h-full"
									>
								</div>

								<div class="w-80 border-4 rounded-2xl overflow-hidden border-gray-600">
									<img src="../static/assets/previews/P-summary-1.png" 
										alt="pdf page preview" 
										class="object-contain w-full h-full"
									>
								</div>

							</div>
						</div>


						</div>
						<script>
							new Sortable(document.getElementById('grid'), {
								animation: 150
							});
						</script>

						<!-- file upload setup -->
						<div class="flex flex-row w-100 h-full border-dashed border-2 rounded-2xl justify-center  bg-white">
							<div class="flex flex-col justify-center">
								<div>
									<div class="flex flex-row justify-center">
										<h1 class="text-2xl font-semibold text-gray-800 mb-3">Upload PDF files</h1>
									</div>

									<form action="/upload" method="post" enctype="multipart/form-data" class="space-y-4">

											<label for="pdfs" class="flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-blue-400 rounded-xl cursor-pointer bg-blue-50 hover:bg-blue-100 transition-colors">
													<img src="../static/icons/upload.svg" alt="document icons" class="w-10 h-10 text-amber-300">
													<p class="mt-4 text-xl font-semibold text-gray-700">Click to upload or drag and drop</p>
													<p class="text-sm text-gray-500">PDF, up to 10MB each</p>
													<input id="pdfs" name="pdfs" type="file" multiple accept=".pdf" onchange="showFiles()" class="hidden">
											</label>

					
											<div id="fileListContainer" class="space-y-2">
													<ul id="fileList" class="text-sm text-gray-700"></ul>
											</div>

										  <button type="submit" class="w-full bg-blue-800 hover:bg-blue-600 text-white font-semibold py-3 rounded-lg transition-colors shadow-md">
													Upload Files
											</button>



	<script>
		const evtSource = new EventSource("http://localhost:8080/events");
		const updatesDiv = document.getElementById("columnHolder");

		evtSource.onmessage = function(event) {
      updatesDiv.insertAdjacentHTML("beforeend", event.data);
    };

    evtSource.onerror = function() {
      updatesDiv.insertAdjacentHTML("beforeend", "<p style='color:red;'>Connection lost...</p>");
    };
  </script>
		
  </body>
</html>
